---
layout: post
title: "6.2 用例与活动图"
categories: 6.需求规格说明书
author: sysu-swsad-team
github: https://github.com/sysu-swsad-team
---

* content
{:toc}

## 详述用例

**用例UC1：做任务**

**范围**：圈多多（Niffler）应用

**级别**：用户目标

**主要参与者**：大学生

**涉众及其关注点**：

- 大学生：希望能够准确地筛选感兴趣的任务。希望能够便捷、清晰地查询任务描述和任务薪酬。希望能够在完成任务后，及时、准确地获得相应数额的“闲钱币”。
- 任务发布者：希望发布的任务能够得到有效的完成。希望能够快速审核已完成任务并进行确认。
- 圈多多团队：希望能够准确地记录任务完成信息。希望在任务发布者确认任务已完成后，自动、快速、准确地将“闲钱币”放入相应账号的钱包中。希望有一定的容错性和可恢复性。

**前置条件**：大学生必须登录账号。

**成功保证（或后置条件）**：记录任务完成相关信息。更新财务信息。

**主成功场景（或基本流程）**：

1. 用户打开圈多多应用，此时已默认登录上一次登录的账号。
2. 系统进入任务类型界面（做任务或发布任务）。
3. 用户选择做任务功能。
4. 系统进入做任务可选项界面（问卷调查任务或跑腿任务）。
5. 用户选择问卷调查任务或跑腿任务。
6. 系统按照账号初始标签显示任务列表。
7. 用户通过标签、薪酬、最新、最热等进一步筛选任务列表。
8. 用户查看自己感兴趣的任务。
9. 系统显示任务详情。任务详情包括任务描述、任务薪酬、任务剩余次数、任务过期时间、是否可重复等。
10. 用户选择接受任务。
11. 系统将任务添加到待完成任务列表。
12. 用户查看待完成任务列表。
13. 用户选择完成任务。
14. 问卷调查任务由系统自动确认已完成任务；跑腿任务由任务发布者确认已完成任务。
15. 系统为相应账号的钱包增加相应数额的“闲钱币”。
16. 系统记录完整的任务完成相关信息，并更新财务信息。

**扩展（或替代流程）**：

- *a. 系统在任意时刻失败：
	1. 系统保存意外退出时的账号状态。
	2. 用户重启系统，请求恢复上次状态。
	3. 系统重建上次状态，恢复意外退出时的界面信息。
		- 3a. 系统在恢复过程中检测到异常：
			1. 系统向用户提示错误，并记录此错误。
			2. 系统进入一个初始状态（即进入任务类型界面）。
- 4-9a. 用户需要重新选择问卷调查任务或跑腿任务：
	1. 用户选择返回功能。
	2. 系统进入做任务可选项界面。
	3. 用户重新选择问卷调查任务或跑腿任务。
- 7a. 用户需要重置任务列表：
	1. 用户选择重置功能。
	2. 系统按照账户初始标签显示任务列表。
- 10-13a. 用户需要放弃任务：
	1. 用户选择放弃任务功能。
	2. 相应任务更新信息，例如，剩余次数加一。
	2. 系统记录放弃任务相关信息。
- 10-13b. 任务超时：
	1. 系统提示用户任务超时。
	2. 系统将任务从待完成列表移除。
	4. 系统记录任务超时相关信息，并更新财务信息。
- 10-13c. 任务发布者提前终止任务：
	1. 系统提示用户任务发布者提前终止任务。
	2. 系统将任务从待完成列表移除。
	4. 系统记录提前终止相关信息，并更新财务信息。
- 14a. 对于跑腿任务，任务发布者未在规定时间内确认用户已完成任务：
	1. 系统自动确认用户已完成任务。
	2. 系统提示任务发布者已自动确认任务完成。
	3. 系统记录自动确认任务完成相关信息。

**特殊需求**：

- 由于某些原因，我们希望在访问远程服务（如财务系统）失败的情况下具有比较强的恢复功能。
- 支持文本显示的语言国际化。

**技术与数据变元表**：暂无。

**发生频率**：可能会不断地发生。

**未决问题**：

- 研究远程服务的恢复问题。
- 对于跑腿任务，如果任务发布者否认已完成任务，该怎样进行协调。
- 任务剩余次数为0后，系统将此任务从任务显示列表移除。如果之后存在用户放弃任务的行为发生，此任务将重新出现在任务显示列表。是否应该提升此任务优先级。

**活动图**：

<img src="https://github.com/sysu-swsad-team/sysu-swsad-team.github.io/raw/master/_posts/images/UML/活动图_做任务.jpg" alt="活动图_做任务" />

## 非正式用例

**用例UC2：发布任务**

**主成功场景**：

发布者打开圈多多应用，系统进入任务类型界面（做任务或发布任务）。发布者选择发布任务功能，系统进入发布任务可选项界面（问卷调查任务或跑腿任务）。系统进入任务描述界面。发布者填写任务描述。发布者进一步填写任务最大数量、单价、超时时间等信息。系统自动计算总价。发布者使用“闲钱币”进行支付，系统提示任务发布成功。

**交替场景**：

任务发布者选择发布任务功能后，如果希望放弃发布任务，选择放弃发布任务功能，系统记录相关信息并进入发布任务可选项界面。

任务发布者发布任务成功后，如果希望提前终止任务，选择提前终止任务功能，系统自动计算“闲钱币”返还数额并返还至相应账户的钱包。

任务发布者发布任务成功后，如果任务过期，系统提示发布者任务已过期。系统自动计算“闲钱币”返还数额并返还至相应账户的钱包。

任务发布者在支付过程中，如果发现“闲钱币”余额不足，可以选择微信、支付宝等方式进行“闲钱币”充值。

**活动图**：

<img src="https://github.com/sysu-swsad-team/sysu-swsad-team.github.io/raw/master/_posts/images/UML/活动图_发布任务.jpg" alt="活动图_发布任务" />

## 摘要用例

**用例UC3.1：注册/登录**

用户打开圈多多应用。如果没有注册，选择注册功能，填写姓名、学号、年龄、性别、年级和专业等信息，并上传学生证正面照片进行验证。验证成功后，可以设置昵称、头像，选择感兴趣的标签，并绑定邮箱或手机号。如果已经注册，选择登录功能，用户通过邮箱或手机号进行登录。

**用例UC3.2：提现“闲钱币”**

用户选择提现功能，账户得到验证之后，将“闲钱币”可用余额转入到第三方支付系统。

**用例UC3.3：举报任务**

用户发现不恰当任务，可以选择举报任务功能。任务被举报次数达到阈值后，将交由管理员进行审核。

**用例UC3.4：审核任务**

管理员定期对被举报次数达到阈值的任务进行审核。如果审核结果为任务不恰当，将下架此任务，并扣除任务发布者一定比例“闲钱币”作为惩罚。否则将被举报次数清零。

**用例UC3.5：评价用户**

任务发布者可以对完成跑腿任务的用户进行评价。评价结果对其它用户可见。

*Created by 15352103*
