---
layout: post
title:  "6.5 功能模型"
categories: 6.需求规格说明书
author: sysu-swsad-team
github: https://github.com/sysu-swsad-team
---

* content
{:toc}

## 处理发布任务（15352103）
<img src="https://github.com/sysu-swsad-team/sysu-swsad-team.github.io/raw/master/_posts/images/UML/系统顺序图_发布任务.jpg" alt="系统顺序图_发布任务" />

## Some Details ([16340286](https://github.com/Ernie1))

### Rules
 * When create task,
   available_balance should be more than fee * participant_quota.
   
 * When determine task's fee,
   participant_quota should also be determined but not vice versa.
 
 * Task's due_date is only w.r.t. participantship's participanted_date,
   so participantship's confirmed_date is unrestricted.
 
 * When create a participantship,
   task issuer's balance is deducted 1 * fee.
 
 * When task cancelled, task issuer will not be refunded
   and affect corresponding participantship,
   participant whose _status == 'UNDERWAY' will be paid.
   
 * Task can be claimed when status == 'UNDERWAY' and
   claimer is not issuer.
   
 * When task invalid, task issuer will not be refunded
   and cause corresponding participantship invalid,
   participant whose _status == 'UNDERWAY' will NOT be paid.
   
 * Only participant has permission to modify _status
   from 'UNDERWAY' to 'CANCELLED' and task issuer is refunded 1 * fee.
   
 * Only task issuer has permission to modify _status
   from 'UNDERWAY' to 'CONFIRMED' and participant is paid 1 * fee.
   
 * Only task issuer has permission to comment
   when _status == 'CONFIRMED'.

### Task Statuses
```
        INVALID : Has certain number of claimers
      CANCELLED : Cancelled by issuer
         CLOSED : due_date expires
     QUOTA FULL : Attain to participant_quota
       UNDERWAY : In progress
```
### Participantship Statuses
```
      CANCELLED : Cancelled by participant
      COMMENTED : Has been commented by its task issuer
      CONFIRMED : Has been confirmed by its task issuer
   TASK INVALID : Its task has certain number of claimers
 TASK CANCELLED : Its task has been cancelled
       UNDERWAY : In progress
```